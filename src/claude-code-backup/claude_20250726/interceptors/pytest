#!/usr/bin/env bash
# ------------------------------------------------------------------
#  Global Claude interceptor: block raw “pytest” calls
# ------------------------------------------------------------------

# Keep the message short but explicit.
cat <<'MSG'
❌  Direct invocation of Python has been disabled for this shell.
   Use the uv‑managed interpreter instead:

       uv run pytest <args…>

   or
       uv venv    # create venv
       pytest …   # once inside the uv environment
MSG

exit 1            # non‑zero so upstream scripts bail out