import{s as z,o as E,n as Y}from"../chunks/scheduler.18a86fab.js";import{S as H,i as P,g as M,s as i,r as Q,A as W,h as y,f as a,c as l,j as B,u as R,x,k as L,y as A,a as n,v as J,d as k,t as q,w as G}from"../chunks/index.98837b22.js";import{T as I}from"../chunks/Tip.77304350.js";import{C as N}from"../chunks/CodeBlock.8d0c2e8a.js";import{H as K,E as D}from"../chunks/getInferenceSnippets.06c2775f.js";function O(U){let s,p='To quantize a model with SpQR, refer to the <a href="https://github.com/Vahe1994/SpQR" rel="nofollow">Vahe1994/SpQR</a> repository.';return{c(){s=M("p"),s.innerHTML=p},l(r){s=y(r,"P",{"data-svelte-h":!0}),x(s)!=="svelte-1oniykr"&&(s.innerHTML=p)},m(r,$){n(r,s,$)},p:Y,d(r){r&&a(s)}}}function tt(U){let s,p,r,$,u,g,f,X='The <a href="https://hf.co/papers/2306.03078" rel="nofollow">SpQR</a> quantization algorithm involves a 16x16 tiled bi-level group 3-bit quantization structure with sparse outliers.',v,o,F='<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/transformers/spqr-diagram.png"/>',_,m,b,c,Z='Load a SpQR-quantized model with <a href="/docs/transformers/v4.56.2/en/main_classes/model#transformers.PreTrainedModel.from_pretrained">from_pretrained()</a>.',w,d,C,h,S,T,V;return u=new K({props:{title:"SpQR",local:"spqr",headingTag:"h1"}}),m=new I({props:{warning:!1,$$slots:{default:[O]},$$scope:{ctx:U}}}),d=new N({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMEF1dG9Ub2tlbml6ZXIlMkMlMjBBdXRvTW9kZWxGb3JDYXVzYWxMTSUwQWltcG9ydCUyMHRvcmNoJTBBJTBBcXVhbnRpemVkX21vZGVsJTIwJTNEJTIwQXV0b01vZGVsRm9yQ2F1c2FsTE0uZnJvbV9wcmV0cmFpbmVkKCUwQSUyMCUyMCUyMCUyMCUyMmVsdmlyY3JuJTJGTGxhbWEtMi03Yi1TUFFSLTNCaXQtMTZ4MTYtcmVkX3BhamFtYS1oZiUyMiUyQyUwQSUyMCUyMCUyMCUyMGR0eXBlJTNEdG9yY2guaGFsZiUyQyUwQSUyMCUyMCUyMCUyMGRldmljZV9tYXAlM0QlMjJhdXRvJTIyJTBBKSUwQXRva2VuaXplciUyMCUzRCUyMEF1dG9Ub2tlbml6ZXIuZnJvbV9wcmV0cmFpbmVkKCUyMmVsdmlyY3JuJTJGTGxhbWEtMi03Yi1TUFFSLTNCaXQtMTZ4MTYtcmVkX3BhamFtYS1oZiUyMik=",highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer, AutoModelForCausalLM
<span class="hljs-keyword">import</span> torch

quantized_model = AutoModelForCausalLM.from_pretrained(
    <span class="hljs-string">&quot;elvircrn/Llama-2-7b-SPQR-3Bit-16x16-red_pajama-hf&quot;</span>,
    dtype=torch.half,
    device_map=<span class="hljs-string">&quot;auto&quot;</span>
)
tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;elvircrn/Llama-2-7b-SPQR-3Bit-16x16-red_pajama-hf&quot;</span>)`,wrap:!1}}),h=new D({props:{source:"https://github.com/huggingface/transformers/blob/main/docs/source/en/quantization/spqr.md"}}),{c(){s=M("meta"),p=i(),r=M("p"),$=i(),Q(u.$$.fragment),g=i(),f=M("p"),f.innerHTML=X,v=i(),o=M("div"),o.innerHTML=F,_=i(),Q(m.$$.fragment),b=i(),c=M("p"),c.innerHTML=Z,w=i(),Q(d.$$.fragment),C=i(),Q(h.$$.fragment),S=i(),T=M("p"),this.h()},l(t){const e=W("svelte-u9bgzb",document.head);s=y(e,"META",{name:!0,content:!0}),e.forEach(a),p=l(t),r=y(t,"P",{}),B(r).forEach(a),$=l(t),R(u.$$.fragment,t),g=l(t),f=y(t,"P",{"data-svelte-h":!0}),x(f)!=="svelte-p05n2n"&&(f.innerHTML=X),v=l(t),o=y(t,"DIV",{class:!0,"data-svelte-h":!0}),x(o)!=="svelte-138opda"&&(o.innerHTML=F),_=l(t),R(m.$$.fragment,t),b=l(t),c=y(t,"P",{"data-svelte-h":!0}),x(c)!=="svelte-dgju9e"&&(c.innerHTML=Z),w=l(t),R(d.$$.fragment,t),C=l(t),R(h.$$.fragment,t),S=l(t),T=y(t,"P",{}),B(T).forEach(a),this.h()},h(){L(s,"name","hf:doc:metadata"),L(s,"content",et),L(o,"class","flex justify-center")},m(t,e){A(document.head,s),n(t,p,e),n(t,r,e),n(t,$,e),J(u,t,e),n(t,g,e),n(t,f,e),n(t,v,e),n(t,o,e),n(t,_,e),J(m,t,e),n(t,b,e),n(t,c,e),n(t,w,e),J(d,t,e),n(t,C,e),J(h,t,e),n(t,S,e),n(t,T,e),V=!0},p(t,[e]){const j={};e&2&&(j.$$scope={dirty:e,ctx:t}),m.$set(j)},i(t){V||(k(u.$$.fragment,t),k(m.$$.fragment,t),k(d.$$.fragment,t),k(h.$$.fragment,t),V=!0)},o(t){q(u.$$.fragment,t),q(m.$$.fragment,t),q(d.$$.fragment,t),q(h.$$.fragment,t),V=!1},d(t){t&&(a(p),a(r),a($),a(g),a(f),a(v),a(o),a(_),a(b),a(c),a(w),a(C),a(S),a(T)),a(s),G(u,t),G(m,t),G(d,t),G(h,t)}}}const et='{"title":"SpQR","local":"spqr","sections":[],"depth":1}';function at(U){return E(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class ot extends H{constructor(s){super(),P(this,s,at,tt,z,{})}}export{ot as component};
