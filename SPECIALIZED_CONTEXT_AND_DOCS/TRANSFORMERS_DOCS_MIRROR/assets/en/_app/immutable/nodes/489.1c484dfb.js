import{s as D,n as K,o as O}from"../chunks/scheduler.18a86fab.js";import{S as ee,i as te,g as i,s,r as _,A as ne,h as o,f as n,c as l,j as F,u as J,x as U,k as N,y as ae,a,v as b,d as $,t as C,w as I}from"../chunks/index.98837b22.js";import{C as Q}from"../chunks/CodeBlock.8d0c2e8a.js";import{H as q,E as se}from"../chunks/getInferenceSnippets.06c2775f.js";function le(Y){let r,P,w,v,m,R,p,k="A modern CPU is capable of efficiently training large models by leveraging the underlying optimizations built into the hardware and training on fp16 or bf16 data types.",V,u,H="This guide focuses on how to train large models on an Intel CPU using mixed precision. AMP is enabled for CPU backends training with PyTorch.",X,f,G='<a href="/docs/transformers/v4.56.2/en/main_classes/trainer#transformers.Trainer">Trainer</a> supports AMP training with CPU by adding the <code>--use_cpu</code>, and <code>--bf16</code> parameters. The example below demonstrates the <a href="https://github.com/huggingface/transformers/tree/main/examples/pytorch/question-answering" rel="nofollow">run_qa.py</a> script.',j,c,A,d,Z='These parameters can also be added to <a href="/docs/transformers/v4.56.2/en/main_classes/trainer#transformers.TrainingArguments">TrainingArguments</a> as shown below.',B,h,E,M,L,T,z='Learn more about training on Intel CPUs in the <a href="https://huggingface.co/blog/intel-sapphire-rapids" rel="nofollow">Accelerating PyTorch Transformers with Intel Sapphire Rapids</a> blog post.',x,g,W,y,S;return m=new q({props:{title:"CPU",local:"cpu",headingTag:"h1"}}),c=new Q({props:{code:"cHl0aG9uJTIwcnVuX3FhLnB5JTIwJTVDJTBBJTIwLS1tb2RlbF9uYW1lX29yX3BhdGglMjBnb29nbGUtYmVydCUyRmJlcnQtYmFzZS11bmNhc2VkJTIwJTVDJTBBJTIwLS1kYXRhc2V0X25hbWUlMjBzcXVhZCUyMCU1QyUwQSUyMC0tZG9fdHJhaW4lMjAlNUMlMEElMjAtLWRvX2V2YWwlMjAlNUMlMEElMjAtLXBlcl9kZXZpY2VfdHJhaW5fYmF0Y2hfc2l6ZSUyMDEyJTIwJTVDJTBBJTIwLS1sZWFybmluZ19yYXRlJTIwM2UtNSUyMCU1QyUwQSUyMC0tbnVtX3RyYWluX2Vwb2NocyUyMDIlMjAlNUMlMEElMjAtLW1heF9zZXFfbGVuZ3RoJTIwMzg0JTIwJTVDJTBBJTIwLS1kb2Nfc3RyaWRlJTIwMTI4JTIwJTVDJTBBJTIwLS1vdXRwdXRfZGlyJTIwJTJGdG1wJTJGZGVidWdfc3F1YWQlMkYlMjAlNUMlMEElMjAtLWJmMTYlMjAlNUMlMEElMjAtLXVzZV9jcHU=",highlighted:`python run_qa.py \\
 --model_name_or_path google-bert/bert-base-uncased \\
 --dataset_name squad \\
 --do_train \\
 --do_eval \\
 --per_device_train_batch_size 12 \\
 --learning_rate 3e-5 \\
 --num_train_epochs 2 \\
 --max_seq_length 384 \\
 --doc_stride 128 \\
 --output_dir /tmp/debug_squad/ \\
 --bf16 \\
 --use_cpu`,wrap:!1}}),h=new Q({props:{code:"dHJhaW5pbmdfYXJncyUyMCUzRCUyMFRyYWluaW5nQXJndW1lbnRzKCUwQSUyMCUyMCUyMCUyMG91dHB1dF9kaXIlM0QlMjIuJTJGb3V0cHV0cyUyMiUyQyUwQSUyMCUyMCUyMCUyMGJmMTYlM0RUcnVlJTJDJTBBJTIwJTIwJTIwJTIwdXNlX2NwdSUzRFRydWUlMkMlMEEp",highlighted:`training_args = TrainingArguments(
    output_dir=<span class="hljs-string">&quot;./outputs&quot;</span>,
    bf16=<span class="hljs-literal">True</span>,
    use_cpu=<span class="hljs-literal">True</span>,
)`,wrap:!1}}),M=new q({props:{title:"Resources",local:"resources",headingTag:"h2"}}),g=new se({props:{source:"https://github.com/huggingface/transformers/blob/main/docs/source/en/perf_train_cpu.md"}}),{c(){r=i("meta"),P=s(),w=i("p"),v=s(),_(m.$$.fragment),R=s(),p=i("p"),p.textContent=k,V=s(),u=i("p"),u.textContent=H,X=s(),f=i("p"),f.innerHTML=G,j=s(),_(c.$$.fragment),A=s(),d=i("p"),d.innerHTML=Z,B=s(),_(h.$$.fragment),E=s(),_(M.$$.fragment),L=s(),T=i("p"),T.innerHTML=z,x=s(),_(g.$$.fragment),W=s(),y=i("p"),this.h()},l(e){const t=ne("svelte-u9bgzb",document.head);r=o(t,"META",{name:!0,content:!0}),t.forEach(n),P=l(e),w=o(e,"P",{}),F(w).forEach(n),v=l(e),J(m.$$.fragment,e),R=l(e),p=o(e,"P",{"data-svelte-h":!0}),U(p)!=="svelte-1kfhnk8"&&(p.textContent=k),V=l(e),u=o(e,"P",{"data-svelte-h":!0}),U(u)!=="svelte-12nn8qy"&&(u.textContent=H),X=l(e),f=o(e,"P",{"data-svelte-h":!0}),U(f)!=="svelte-17skm8c"&&(f.innerHTML=G),j=l(e),J(c.$$.fragment,e),A=l(e),d=o(e,"P",{"data-svelte-h":!0}),U(d)!=="svelte-7ee9fc"&&(d.innerHTML=Z),B=l(e),J(h.$$.fragment,e),E=l(e),J(M.$$.fragment,e),L=l(e),T=o(e,"P",{"data-svelte-h":!0}),U(T)!=="svelte-inxjd7"&&(T.innerHTML=z),x=l(e),J(g.$$.fragment,e),W=l(e),y=o(e,"P",{}),F(y).forEach(n),this.h()},h(){N(r,"name","hf:doc:metadata"),N(r,"content",re)},m(e,t){ae(document.head,r),a(e,P,t),a(e,w,t),a(e,v,t),b(m,e,t),a(e,R,t),a(e,p,t),a(e,V,t),a(e,u,t),a(e,X,t),a(e,f,t),a(e,j,t),b(c,e,t),a(e,A,t),a(e,d,t),a(e,B,t),b(h,e,t),a(e,E,t),b(M,e,t),a(e,L,t),a(e,T,t),a(e,x,t),b(g,e,t),a(e,W,t),a(e,y,t),S=!0},p:K,i(e){S||($(m.$$.fragment,e),$(c.$$.fragment,e),$(h.$$.fragment,e),$(M.$$.fragment,e),$(g.$$.fragment,e),S=!0)},o(e){C(m.$$.fragment,e),C(c.$$.fragment,e),C(h.$$.fragment,e),C(M.$$.fragment,e),C(g.$$.fragment,e),S=!1},d(e){e&&(n(P),n(w),n(v),n(R),n(p),n(V),n(u),n(X),n(f),n(j),n(A),n(d),n(B),n(E),n(L),n(T),n(x),n(W),n(y)),n(r),I(m,e),I(c,e),I(h,e),I(M,e),I(g,e)}}}const re='{"title":"CPU","local":"cpu","sections":[{"title":"Resources","local":"resources","sections":[],"depth":2}],"depth":1}';function ie(Y){return O(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class fe extends ee{constructor(r){super(),te(this,r,ie,le,D,{})}}export{fe as component};
