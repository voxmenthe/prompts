# Sections

## List Technical Sections of a Content Item

> Used to fetch technical sections of a single CIL content item.\
>

OpenAPI:

```json
{"openapi":"3.1.0","info":{"title":"Shelf Content Integration Layer API","version":"1.0.0"},"tags":[{"name":"Sections"}],"servers":[{"description":"US region","url":"https://api.shelf.io"},{"description":"EU region","url":"https://api.shelf-eu.com"},{"description":"CA region","url":"https://api.shelf-ca.com"}],"security":[{"auth_token":[]}],"components":{"securitySchemes":{"auth_token":{"type":"apiKey","description":"Shelf API Token. See [Create API Token](https://docs.shelf.io/dev-portal/authentication/create-api-token) for more details.","in":"header","name":"Authorization"}}},"paths":{"/cil-content/items/{itemId}/sections":{"get":{"operationId":"getContentItemTechnicalSections","summary":"List Technical Sections of a Content Item","description":"Used to fetch technical sections of a single CIL content item.\n","parameters":[{"description":"External Content ID","schema":{"type":"string","maxLength":26,"minLength":26},"in":"path","name":"itemId","required":true}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"type":"object","required":["items","pageInfo"],"properties":{"pageInfo":{"allOf":[{"type":"object","description":"This object holds information about pagination. Use it to know how to iterate over array of results","properties":{"currentPage":{"type":"number","default":1,"maximum":100,"minimum":1},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"pageSize":{"type":"number"},"totalPages":{"type":"number","maximum":100,"minimum":1},"totalResultsCount":{"type":"number","maximum":999999,"minimum":0}}},{"type":"object","properties":{"nextToken":{"type":"string"}}}]},"items":{"type":"array","items":{"allOf":[{"type":"object","required":["fields"],"properties":{"accountId":{"type":"string","description":"ID of account","maxLength":64,"minLength":6},"collectionIds":{"type":"array","description":"List of collection IDs this content item belongs to in external system","items":{"type":"string","description":"Collection ID from external system","maxLength":512,"minLength":1}},"connectorId":{"type":"string","description":"Connector ID which synced this content item to CIL"},"createdAt":{"type":"string","description":"Date when content was first created in CIL","format":"date"},"externalId":{"type":"string","description":"External content item ID, provided by CIL Connector, corresponding to id in source system"},"externalURL":{"type":"string","description":"Url pointing to content in source system"},"fields":{"type":"array","items":{"type":"object","required":["key","value","type","label"],"properties":{"type":{"type":"string"},"data":{"type":"object","additionalProperties":true},"key":{"type":"string"},"label":{"type":"string"},"value":{"type":"string"}}}},"iconURL":{"type":"string","description":"Icon url for this content item. Present if this content item corresponds to Shelf KMS gem."},"id":{"type":"string","description":"Content item ID (internal to CIL)"},"internalCollectionIds":{"type":"array","description":"List of internal collection IDs this content item belongs to in CIL","items":{"type":"string","maxLength":26,"minLength":26}},"internalId":{"type":"string","description":"Content item ID (internal to CIL)"},"lang":{"type":"string","description":"Language code of content item"},"lastViewedAt":{"type":"string","description":"Date when content was last viewed at","format":"date"},"locations":{"type":"array","description":"List of locations of this content item belongs to an external system","items":{"type":"object","required":["grandParentIds","collectionId"],"properties":{"collectionId":{"type":"string","description":"Collection ID from external system","maxLength":512,"minLength":1},"grandParentIds":{"type":"array","items":{"type":"string","maxLength":64,"minLength":6}},"parentId":{"type":"string","maxLength":64,"minLength":6}}}},"originalCreatedAt":{"type":"string","description":"Date when content was first created in source system","format":"date"},"originalUpdatedAt":{"type":"string","description":"Date when content was last updated in source system","format":"date"},"tags":{"type":"array","description":"List of tags for this content item","items":{"type":"string"}},"title":{"type":"string","description":"Content item title"},"updatedAt":{"type":"string","description":"Date when content was last updated in CIL","format":"date"}}},{"type":"object","properties":{"type":{"type":"string","description":"Specifies that this is a content section","enum":["content-section"]},"id":{"type":"string","description":"ID of the item. This is a composite of internalId, semanticSectionId, and sectionId separated by a dash"},"sectionId":{"type":"string","description":"Content section ID"},"semanticSectionHash":{"type":"string","description":"Fingerprint for the content"},"semanticSectionId":{"type":"string","description":"ID of the parent semantic section"},"text":{"type":"string","description":"Plain text of this content section"}}}]}}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","title":"API Error with code","required":["error"],"properties":{"error":{"type":"object","description":"API Error with code","required":["status","message","code"],"properties":{"code":{"type":"string","description":"Error code"},"message":{"type":"string","description":"Error message"},"status":{"type":"number","description":"Status code"}}}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","title":"API Error with code","required":["error"],"properties":{"error":{"type":"object","description":"API Error with code","required":["status","message","code"],"properties":{"code":{"type":"string","description":"Error code"},"message":{"type":"string","description":"Error message"},"status":{"type":"number","description":"Status code"}}}}}}}}},"tags":["Sections"]}}}}
```

## List Semantic Sections of a Content Item

> Used to fetch semantic sections of a single CIL content item.\
> This API does not return the text of the semantic section.\
> Use the \[Download Section Content]\(#tag/Sections/operation/downloadSectionContent) API to download the text of the section in various formats.\
>

OpenAPI:

```json
{"openapi":"3.1.0","info":{"title":"Shelf Content Integration Layer API","version":"1.0.0"},"tags":[{"name":"Sections"}],"servers":[{"description":"US region","url":"https://api.shelf.io"},{"description":"EU region","url":"https://api.shelf-eu.com"},{"description":"CA region","url":"https://api.shelf-ca.com"}],"security":[{"auth_token":[]}],"components":{"securitySchemes":{"auth_token":{"type":"apiKey","description":"Shelf API Token. See [Create API Token](https://docs.shelf.io/dev-portal/authentication/create-api-token) for more details.","in":"header","name":"Authorization"}}},"paths":{"/cil-content/items/{itemId}/semantic-sections":{"get":{"operationId":"getContentItemSemanticSections","summary":"List Semantic Sections of a Content Item","description":"Used to fetch semantic sections of a single CIL content item.\nThis API does not return the text of the semantic section.\nUse the [Download Section Content](#tag/Sections/operation/downloadSectionContent) API to download the text of the section in various formats.\n","parameters":[{"description":"External Content ID","schema":{"type":"string","maxLength":26,"minLength":26},"in":"path","name":"itemId","required":true},{"description":"IDs of the attachment to fetch sections for","schema":{"type":"array","items":{"type":"string","maxLength":26,"minLength":26}},"in":"query","name":"attachmentId","required":false}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"type":"object","required":["sections"],"properties":{"sections":{"type":"array","items":{"type":"object","required":["attachmentId","id","level","order","textLength"],"properties":{"attachmentId":{"type":"string","description":"Attachment ID"},"delimiterHTML":{"type":"string","description":"HTML of delimiter"},"id":{"type":"string","description":"Semantic Section ID"},"langPredicted":{"type":"string","description":"Predicted Language"},"level":{"type":"integer","description":"Hierarchy level of a semantic section"},"meta":{"type":"object","description":"Meta data of semantic seaction","properties":{"pageFooter":{"type":"string","description":"Page Footer"},"pageHeader":{"type":"string","description":"Page Header"},"pageNumber":{"type":"number","description":"Page Number"}}},"nextId":{"type":"string","description":"ID of next semantic section"},"order":{"type":"integer","description":"Order of semantic section"},"parentId":{"type":"string","description":"ID of parent semantic section"},"previousId":{"type":"string","description":"ID of previous semantic section"},"textLength":{"type":"integer","description":"Length of text in semantic section"},"title":{"type":"string","description":"Title of semantic section"},"titleBreadcrumbs":{"type":"array","description":"Breadcrumbs of semantic section from parent section titles","items":{"type":"string"}},"titleHTML":{"type":"string","description":"HTML of section's title"}}}}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","title":"API Error with code","required":["error"],"properties":{"error":{"type":"object","description":"API Error with code","required":["status","message","code"],"properties":{"code":{"type":"string","description":"Error code"},"message":{"type":"string","description":"Error message"},"status":{"type":"number","description":"Status code"}}}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","title":"API Error with code","required":["error"],"properties":{"error":{"type":"object","description":"API Error with code","required":["status","message","code"],"properties":{"code":{"type":"string","description":"Error code"},"message":{"type":"string","description":"Error message"},"status":{"type":"number","description":"Status code"}}}}}}}}},"tags":["Sections"]}}}}
```

## Download Section

> Download Content of the Semantic Section in the desired format.\
>

OpenAPI:

```json
{"openapi":"3.1.0","info":{"title":"Shelf Content Integration Layer API","version":"1.0.0"},"tags":[{"name":"Sections"}],"servers":[{"description":"US region","url":"https://api.shelf.io"},{"description":"EU region","url":"https://api.shelf-eu.com"},{"description":"CA region","url":"https://api.shelf-ca.com"}],"security":[{"auth_token":[]}],"components":{"securitySchemes":{"auth_token":{"type":"apiKey","description":"Shelf API Token. See [Create API Token](https://docs.shelf.io/dev-portal/authentication/create-api-token) for more details.","in":"header","name":"Authorization"}}},"paths":{"/cil-content/items/{itemId}/semantic-sections/{sectionId}/content":{"get":{"operationId":"downloadSectionContent","summary":"Download Section","description":"Download Content of the Semantic Section in the desired format.\n","parameters":[{"description":"Content Item ID","schema":{"type":"string","maxLength":64,"minLength":6},"in":"path","name":"itemId","required":true},{"description":"Section ID","schema":{"type":"string","maxLength":26,"minLength":26},"in":"path","name":"sectionId","required":true},{"description":"File Format type","schema":{"type":"string","description":"Format of the content","default":"markdown","enum":["html","markdown","text"]},"in":"query","name":"format"}],"responses":{"200":{"description":"Success - Content section text","content":{"text/html":{"schema":{"type":"string","description":"HTML content of the section"}},"text/markdown":{"schema":{"type":"string","description":"Markdown content of the section"}},"text/plain":{"schema":{"type":"string","description":"Plain text content of the section"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","required":["error"],"properties":{"error":{"type":"object","description":"API Error","required":["status","message","code"],"properties":{"code":{"type":"string","description":"ERROR_CODE"},"detail":{"description":"Detail info","oneOf":[{"type":"string"},{"type":"array","items":{"type":"object","properties":{"dataPath":{"type":"string"},"keyword":{"type":"string"},"message":{"type":"string"},"params":{"type":"object"},"schemaPath":{"type":"string"}}}}]},"message":{"type":"string","description":"Error message"},"status":{"type":"number","description":"Status code"}}}}}}}}},"tags":["Sections"]}}}}
```
